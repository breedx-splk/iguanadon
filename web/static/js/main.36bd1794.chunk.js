(this["webpackJsonpcreate-react-app"]=this["webpackJsonpcreate-react-app"]||[]).push([[0],{100:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n(10),i=n.n(r),s=n(149),o=n(156),c=n(19),l=n(20),u=n(30),h=n(28),d=n(41),p=n(66),b=n(4),j=n(5),g=n(157),m=n(150),f=n(151),x=n(36),O=n(153),v=n(148),w=n(154),y=n(155),S=n(152),k=n(77),C=n.n(k),P=n(78),I=n.n(P),B=n(142),T=n(143),N=n(144),H=n(73),A=n.n(H),F=n(74),G=n.n(F),U=n(75),R=n.n(U),q=n(145),D=n(146),L=n(159),W=n(138),_=n(3),z=function(e){Object(u.a)(n,e);var t=Object(h.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){var e=this.props.chartUpdater;return Object(_.jsx)(W.a,{children:Object(_.jsxs)("div",{children:[Object(_.jsx)(L.a,{title:"Allocation",placement:"bottom-end",children:Object(_.jsxs)(B.a,{button:!0,onClick:function(){return e.showAllocations()},children:[Object(_.jsx)(T.a,{children:Object(_.jsx)(A.a,{})}),Object(_.jsx)(N.a,{primary:"Allocations"})]})}),Object(_.jsx)(L.a,{title:"Garbage collection",placement:"bottom-end",children:Object(_.jsxs)(B.a,{button:!0,onClick:function(){return e.showGarbageCollection()},children:[Object(_.jsx)(T.a,{children:Object(_.jsx)(G.a,{})}),Object(_.jsx)(N.a,{primary:"Garbage collection"})]})}),Object(_.jsx)(L.a,{title:"Heap usage",placement:"bottom-end",children:Object(_.jsxs)(B.a,{button:!0,onClick:function(){return e.showHeapUsage()},children:[Object(_.jsx)(T.a,{children:Object(_.jsx)(q.a,{})}),Object(_.jsx)(N.a,{primary:"Heap usage"})]})}),Object(_.jsx)(L.a,{title:"Throughput",placement:"bottom-end",children:Object(_.jsxs)(B.a,{button:!0,onClick:function(){return e.showThroughput()},children:[Object(_.jsx)(T.a,{children:Object(_.jsx)(R.a,{})}),Object(_.jsx)(N.a,{primary:"Throughput"})]})}),Object(_.jsx)(L.a,{title:"Startup time",placement:"bottom-end",children:Object(_.jsxs)(B.a,{button:!0,onClick:function(){return e.showStartupTime()},children:[Object(_.jsx)(T.a,{children:Object(_.jsx)(D.a,{})}),Object(_.jsx)(N.a,{primary:"Startup time"})]})})]})})}}]),n}(a.Component),J=n(44),M=n.n(J);function $(e){return Object(_.jsx)(x.a,{component:"h2",variant:"h6",color:"primary",gutterBottom:!0,children:e.children})}var E=n(147),X=n(158),K=n(160),Q=n(161),V=n(162),Y=function(e){Object(u.a)(n,e);var t=Object(h.a)(n);function n(e){return Object(c.a)(this,n),t.call(this,e)}return Object(l.a)(n,[{key:"handleChange",value:function(e){console.log("handle change: ".concat(e.target.value)),this.props.radioChanged(e.target.value)}},{key:"render",value:function(){var e=this,t=this.props.chartProps.prefixes,n=t.map((function(e){return Object(_.jsx)(E.a,{value:e,control:Object(_.jsx)(X.a,{}),label:e},e)})),a=void 0===this.props.selectedItem?t[0]:this.props.selectedItem;return Object(_.jsxs)(K.a,{component:"fieldset",children:[Object(_.jsx)(Q.a,{component:"legend",children:"sub series:"}),Object(_.jsx)(V.a,{row:!0,"aria-label":"subseries",name:"subseries",value:a,onChange:function(t){return e.handleChange(t)},children:n})]})}}]),n}(a.Component),Z=n(102),ee=n(76),te=n.n(ee);n(99);var ne=function(e){Object(u.a)(n,e);var t=Object(h.a)(n);function n(e){var a;return Object(c.a)(this,n),(a=t.call(this,e)).state={},a}return Object(l.a)(n,[{key:"render",value:function(){var e=this.props.chartProps.title,t=this.props.chartProps,n=this.buildSubsel(),a=this.buildSeriesData(t),r=this.buildTrends(a),i={labels:t.labels,series:r},s=document.getElementById("legend");s&&(s.innerHTML="");var o={low:0,lineSmooth:M.a.Interpolation.cardinal({tension:.4}),position:"bottom",fullWidth:!0,plugins:[M.a.plugins.legend({position:s})]};if(i.labels)new M.a.Line("#chart",i,o);return Object(_.jsxs)(Z.a,{children:[Object(_.jsx)($,{children:e}),n,Object(_.jsx)("div",{id:"chart",className:"ct-chart ct-perfect-fourth"})]})}},{key:"radioSelChanged",value:function(e){this.setState({selectedSubItem:e})}},{key:"buildSubsel",value:function(){var e,t=this,n=this.props.chartProps;if((null===n||void 0===n||null===(e=n.series)||void 0===e?void 0:e.length)<=2)return Object(_.jsx)("span",{});var a=this.chooseSelectedItem();return Object(_.jsx)(Y,{chartProps:n,radioChanged:function(e){return t.radioSelChanged(e)},selectedItem:a})}},{key:"chooseSelectedItem",value:function(){var e=this.props.chartProps;return e.prefixes.includes(this.state.selectedSubItem)?this.state.selectedSubItem:e.series[0].prefix}},{key:"buildSeriesData",value:function(e){var t,n;if(2===(null===e||void 0===e||null===(t=e.series)||void 0===t?void 0:t.length))return e.series;if(!this.state.selectedSubItem&&0===(null===e||void 0===e||null===(n=e.series)||void 0===n?void 0:n.length))return console.log("First time in, no data..."),[];var a=this.chooseSelectedItem();return e.series.filter((function(e){return e.prefix===a}))}},{key:"buildTrends",value:function(e){if(2!==(null===e||void 0===e?void 0:e.length))return e;var t=this.buildRegression(e,0),n=this.buildRegression(e,1),a=[e[0],{name:"".concat(e[0].name,"-trend"),data:t},e[1],{name:"".concat(e[1].name,"-trend"),data:n}];return console.log(a),a}},{key:"buildRegression",value:function(e,t){var n=e[t].data,a=te.a.linear(n.map((function(e,t){return[t,e]})));console.log(a);var r=new Array(n.length);return r[0]=a.points[0][1],r[n.length-1]=a.points[n.length-1][1],r}}]),n}(a.Component),ae=n(56);function re(e){return fetch(e).then((function(e){return e.text()})).then(ie)}function ie(e){var t=e.trim().split("\n"),n=t.shift().split(","),a=t.map((function(e){return e.split(",")})),r=a.map((function(e){return e[0]})),i=Object(ae.a)(Array(n.length-1).keys()).map((function(e){return[e,a.map((function(t){return t[e+1]}))]})).map((function(e){return{name:n[e[0]+1],data:e[1].map(parseFloat)}}));return{labels:r,fields:n,series:i}}function se(e){return e.map((function(e){return e.prefix=e.name.replace(/-with-agent/,"").replace(/-no-agent/,""),e.suffix=e.name.replace(/^.*-(with-agent|no-agent)$/,"$1"),e}))}function oe(e){e.unit="MB";var t=1048576;return e.series[0].data[0]>1073741824&&(e.unit="GB",t=1073741824),e.series=e.series.map((function(e){return e.data=e.data.map((function(e){return e/t})),e})),e}function ce(e){return Object(ae.a)(new Set(e.map((function(e){return e.prefix}))))}var le=function(){function e(t){Object(c.a)(this,e),this.updateChartProps=t}return Object(l.a)(e,[{key:"showAllocations",value:function(){console.log("Showing allocations");var e=this.updateChartProps;re("https://breedx-splk.github.io/iguanodon/web/results/allocations.csv").then(oe).then((function(t){e({title:"Allocations (".concat(t.unit,")"),labels:t.labels,series:se(t.series),prefixes:ce(t.series)})}))}},{key:"showGarbageCollection",value:function(){console.log("Showing garbage collection info");var e=this.updateChartProps;re("https://breedx-splk.github.io/iguanodon/web/results/garbage_collection.csv").then((function(t){e({title:"Garbage Collections (sum time in seconds)",labels:t.labels,series:se(t.series),prefixes:ce(t.series)})}))}},{key:"showHeapUsage",value:function(){console.log("Showing heap usage");var e=this.updateChartProps;re("https://breedx-splk.github.io/iguanodon/web/results/heap_used.csv").then(oe).then((function(t){e({title:"Heap usage (".concat(t.unit,")"),labels:t.labels,series:se(t.series),prefixes:ce(t.series)})}))}},{key:"showThroughput",value:function(){console.log("Showing throughput");var e=this.updateChartProps;re("https://breedx-splk.github.io/iguanodon/web/results/throughput.csv").then((function(t){e({title:"Throughput (time/request)",labels:t.labels,series:se(t.series),prefixes:ce(t.series)})}))}},{key:"showStartupTime",value:function(){console.log("Showing startup times");var e=this.updateChartProps;re("https://breedx-splk.github.io/iguanodon/web/results/start_time.csv").then((function(t){e({title:"Startup time",labels:t.labels,series:se(t.series)})}))}}]),e}(),ue=function(e){Object(u.a)(n,e);var t=Object(h.a)(n);function n(e){var a;return Object(c.a)(this,n),(a=t.call(this,e)).state={drawerOpen:!1,chartProps:{title:"Choose a category on the left",series:[]}},a.chartUpdater=new le((function(e){return a.setState({chartProps:e})})),a}return Object(l.a)(n,[{key:"render",value:function(){var e=this,t=this.props.classes;return Object(_.jsxs)("div",{className:t.root,children:[Object(_.jsx)(s.a,{}),Object(_.jsx)(m.a,{position:"absolute",className:Object(b.a)(t.appBar,this.state.drawerOpen&&t.appBarShift),children:Object(_.jsxs)(f.a,{className:t.toolbar,children:[Object(_.jsx)(v.a,{edge:"start",color:"inherit","aria-label":"open drawer",onClick:function(){return e.setState({drawerOpen:!0})},className:Object(b.a)(t.menuButton,this.state.drawerOpen&&t.menuButtonHidden),children:Object(_.jsx)(C.a,{})}),Object(_.jsxs)(x.a,{component:"h1",variant:"h4",color:"inherit",noWrap:!0,className:t.title,children:["OpenTelemetry java agent overhead ",Object(_.jsx)(S.a,{color:"textSecondary",variant:"h6",href:"#",onClick:function(){return window.alert("very much need to qualify this")},children:Object(_.jsx)("sup",{children:"*"})})]})]})}),Object(_.jsxs)(g.a,{variant:"permanent",classes:{paper:Object(b.a)(t.drawerPaper,!this.state.drawerOpen&&t.drawerPaperClose)},open:this.state.drawerOpen,children:[Object(_.jsx)("div",{className:t.toolbarIcon,children:Object(_.jsx)(v.a,{onClick:function(){return e.setState({drawerOpen:!1})},children:Object(_.jsx)(I.a,{})})}),Object(_.jsx)(O.a,{}),Object(_.jsx)(z,{chartUpdater:this.chartUpdater})]}),Object(_.jsxs)("main",{className:t.content,children:[Object(_.jsx)("div",{className:t.appBarSpacer}),Object(_.jsx)(w.a,{maxWidth:"lg",className:t.container,children:Object(_.jsxs)(y.a,{container:!0,spacing:3,children:[Object(_.jsx)(y.a,{item:!0,xs:10,md:10,lg:10,children:Object(_.jsx)(ne,{chartProps:this.state.chartProps})}),Object(_.jsx)(y.a,{item:!0,xs:2,md:2,lg:2,children:Object(_.jsx)("div",{id:"legend"})})]})})]})]})}}]),n}(a.Component),he=Object(j.a)((function(e){var t;return{root:{display:"flex"},toolbar:{paddingRight:24},toolbarIcon:Object(p.a)({display:"flex",alignItems:"center",justifyContent:"flex-end",padding:"0 8px"},e.mixins.toolbar),appBar:{zIndex:e.zIndex.drawer+1,transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{marginLeft:240,width:"calc(100% - ".concat(240,"px)"),transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},menuButton:{marginRight:36},menuButtonHidden:{display:"none"},title:{flexGrow:1,"padding-top":5},drawerPaper:{position:"relative",whiteSpace:"nowrap",width:240,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen}),"padding-top":5},drawerPaperClose:(t={overflowX:"hidden",transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),width:e.spacing(7)},Object(d.a)(t,e.breakpoints.up("sm"),{width:e.spacing(9)}),Object(d.a)(t,"padding-top",5),t),appBarSpacer:e.mixins.toolbar,content:{flexGrow:1,height:"100vh",overflow:"auto"},container:{paddingTop:e.spacing(4),paddingBottom:e.spacing(4)},paper:{padding:e.spacing(2),display:"flex",overflow:"auto",flexDirection:"column"},fixedHeight:{height:240}}}),{withTheme:!0})(ue),de=n(57),pe=n(79),be=Object(pe.a)({palette:{primary:{main:"#640d14"},secondary:{main:"#19857b"},textSecondary:{main:"#FFFFFF"},error:{main:de.a.A400},background:{default:"#fff"}}});i.a.render(Object(_.jsxs)(o.a,{theme:be,children:[Object(_.jsx)(s.a,{}),Object(_.jsx)(he,{})]}),document.querySelector("#root"))}},[[100,1,2]]]);
//# sourceMappingURL=main.36bd1794.chunk.js.map